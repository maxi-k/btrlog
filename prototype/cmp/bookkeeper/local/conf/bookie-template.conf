# BookKeeper bookie configuration template for local testing
# This file will have NODE_ID replaced at runtime

# Server settings
bookiePort=318${NODE_ID}
httpServerPort=808${NODE_ID}

# Storage directories (will be created per node)
journalDirectories=local/data/bookie-${NODE_ID}/journal
ledgerDirectories=local/data/bookie-${NODE_ID}/ledgers
indexDirectories=local/data/bookie-${NODE_ID}/index

# ZooKeeper settings  
zkServers=localhost:2181
zkTimeout=30000

# Performance settings for local testing
journalSyncData=false
journalAdaptiveGroupWrites=true
journalMaxGroupWaitMSec=1
journalBufferedWritesThreshold=524288
journalBufferedEntriesThreshold=5000

# Disable fsync for local testing performance
journalWriteData=true
journalRemoveFromPageCache=false

# Ledger storage settings
ledgerStorageClass=org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage

# Garbage collection
gcWaitTime=300000
minorCompactionInterval=3600
majorCompactionInterval=86400

# Netty settings
serverTcpNoDelay=true
clientTcpNoDelay=true

# Ledger cache
openFileLimit=20000
readBufferSizeBytes=4096
writeBufferSizeBytes=65536

# Allow loopback for local testing
allowLoopback=true

# Enable statistics
enableStatistics=true

# Logging
# Use logback configuration instead of log4j for consistency